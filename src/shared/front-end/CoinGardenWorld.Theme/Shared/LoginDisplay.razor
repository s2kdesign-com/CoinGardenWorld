@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@inject NavigationManager Navigation
@inject IStringLocalizer<LoginDisplay> _localizer

<AuthorizeView>
    <Authorized>
        <li class="menu-item has-sub">
            <a class="menu-link nav-link menu-toggle" href="#">
                @context.User.Identity?.Name
            </a>
            <div class="menu-sub menu-drop menu-mega menu-mega-1clmn">
                <div class="menu-mega-innr">
                    <ul class="menu-mega-list">
                        <li class="menu-item">
                            <a href="authentication/logout" @onclick="BeginLogOut">
                                @_localizer["Log out"]
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </li>
    </Authorized>
    <NotAuthorized>
        <a class="btn btn-md btn-auto btn-primary no-change menu-login-button-custom btn-outline" href="authentication/login">
            <span>@_localizer["Login"]</span>
        </a>
    </NotAuthorized>
</AuthorizeView>




@code{
    public void BeginLogOut()
    {
        Navigation.NavigateToLogout("authentication/logout");
    }
}


